<script setup lang="ts">
const { scrollY } = useScroll();
const pageHidden = ref(false);
const animationInterval = ref<NodeJS.Timeout>();
const svg = useTemplateRef('svg');

function animateSVG () {
	if (!svg.value) return;
	const triangles = svg.value.querySelectorAll('use');
	let cycle = 0;

	svg.value.setAttribute('style', 'opacity: 1;');
	
	const runCycle = () => {
		console.log(scrollY.value, pageHidden.value, svg.value && svg.value.getBoundingClientRect().height);
		if (!svg.value // SVG element not rendered or ref not instantiated properly
		|| scrollY.value >= svg.value.getBoundingClientRect().height // Page scrolled, logo hidden
		|| pageHidden.value) // Page is on the background
			return; 

		switch (cycle) {
			case 0:
				for (const elm of triangles) elm.setAttribute('style', 'opacity: 1;');
				break;
			case 1:
				for (const elm of triangles) elm.setAttribute('style', 'opacity: 1; fill: white; stroke: black;');
				break;
			case 2:
				for (const elm of triangles) elm.setAttribute('style', 'opacity: 0;');
				break;
			case 3:
				for (const elm of triangles) elm.setAttribute('style', 'opacity: 1; fill: black;');
		}

		cycle = (cycle + 1) % 4;
	};

	animationInterval.value = setInterval(runCycle, 8000);
	setTimeout(runCycle, 1000);
}

function onVisible() {
  pageHidden.value = false;
}

function onHidden() {
  pageHidden.value = true;
}

function handleVisibilityChange() {
  if(document.hidden) onHidden();
  else onVisible();
}

onMounted(() => {
	document.addEventListener('visibilitychange', handleVisibilityChange);

	// extra event listeners for better behaviour
	document.addEventListener('focus', onVisible);
	document.addEventListener('blur', onHidden);

	window.addEventListener('focus', onVisible);
	window.addEventListener('blur', onHidden);

	window.focus();

	handleVisibilityChange();
	animateSVG();
});

onUnmounted(() => {
	document.removeEventListener('visibilitychange', handleVisibilityChange);

	document.removeEventListener('focus', onVisible);
	document.removeEventListener('blur', onHidden);

	window.removeEventListener('focus', onVisible);
	window.removeEventListener('blur', onHidden);

	clearInterval(animationInterval.value);
});
</script>

<template>
  <svg ref="svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1571 1362"><defs><path id="a" d="M0,0l28.36-49.65h-56.72Zm0-99.3,28.36,49.65h-56.72Z"/><path id="b" d="M0,0l-57.2,0,28.36,49.12Zm-86.051,49.68,28.846-49.4,28.36,49.12Z"/><path id="c" d="M0,0l28.881,49.45,28.3-49.26Zm86.059,49.65-57.181-.2,28.3-49.26Z"/><path id="d" d="M0,0l-57.2-0.2l28.3-49.3l0,0z"/></defs><use x="1458.3" y="1362.4" href="#a"/><use x="1486.3" y="1313.9" href="#a"/><use x="1514.3" y="1265.4" href="#a"/><use x="1542.3" y="1216.9" href="#a"/><use x="1430.3" y="1313.9" href="#a"/><use x="1458.3" y="1265.4" href="#a"/><use x="1486.3" y="1216.9" href="#a"/><use x="1514.3" y="1168.3" href="#a"/><use x="1402.3" y="1265.4" href="#a"/><use x="1430.3" y="1216.9" href="#a"/><use x="1458.3" y="1168.3" href="#a"/><use x="1486.3" y="1119.8" href="#a"/><use x="1374.3" y="1216.9" href="#a"/><use x="1402.3" y="1168.3" href="#a"/><use x="1430.3" y="1119.8" href="#a"/><use x="1458.3" y="1071.3" href="#a"/><use x="1346.3" y="1168.8" href="#a"/><use x="1374.3" y="1120.3" href="#a"/><use x="1402.3" y="1071.8" href="#a"/><use x="1430.3" y="1023.3" href="#a"/><use x="1318.3" y="1120.3" href="#a"/><use x="1346.3" y="1071.8" href="#a"/><use x="1374.3" y="1023.3" href="#a"/><use x="1402.3" y="974.8" href="#a"/><use x="1290.3" y="1071.8" href="#a"/><use x="1318.3" y="1023.3" href="#a"/><use x="1346.3" y="974.8" href="#a"/><use x="1374.3" y="926.2" href="#a"/><use x="1262.3" y="1023.3" href="#a"/><use x="1290.3" y="974.8" href="#a"/><use x="1318.3" y="926.2" href="#a"/><use x="1346.3" y="877.7" href="#a"/><use x="1234.3" y="974.3" href="#a"/><use x="1262.3" y="925.7" href="#a"/><use x="1290.3" y="877.2" href="#a"/><use x="1318.3" y="828.7" href="#a"/><use x="1206.3" y="925.7" href="#a"/><use x="1234.3" y="877.2" href="#a"/><use x="1262.3" y="828.7" href="#a"/><use x="1290.3" y="780.2" href="#a"/><use x="1178.3" y="877.2" href="#a"/><use x="1206.3" y="828.7" href="#a"/><use x="1234.3" y="780.2" href="#a"/><use x="1262.3" y="731.7" href="#a"/><use x="1150.3" y="828.7" href="#a"/><use x="1178.3" y="780.2" href="#a"/><use x="1206.3" y="731.7" href="#a"/><use x="1234.3" y="683.1" href="#a"/><use x="1122.3" y="779.7" href="#a"/><use x="1150.3" y="731.2" href="#a"/><use x="1178.3" y="682.6" href="#a"/><use x="1206.3" y="634.1" href="#a"/><use x="1094.3" y="731.2" href="#a"/><use x="1122.3" y="682.6" href="#a"/><use x="1150.3" y="634.1" href="#a"/><use x="1178.3" y="585.6" href="#a"/><use x="1066.3" y="682.6" href="#a"/><use x="1094.3" y="634.1" href="#a"/><use x="1122.3" y="585.6" href="#a"/><use x="1150.3" y="537.1" href="#a"/><use x="1038.3" y="634.1" href="#a"/><use x="1066.3" y="585.6" href="#a"/><use x="1094.3" y="537.1" href="#a"/><use x="1122.3" y="488.6" href="#a"/><use x="1010.3" y="585.1" href="#a"/><use x="1038.3" y="536.6" href="#a"/><use x="1066.3" y="488.1" href="#a"/><use x="1094.3" y="439.5" href="#a"/><use x="982.3" y="536.6" href="#a"/><use x="1010.3" y="488.1" href="#a"/><use x="1038.3" y="439.5" href="#a"/><use x="1066.3" y="391" href="#a"/><use x="954.3" y="488.1" href="#a"/><use x="982.3" y="439.5" href="#a"/><use x="1010.3" y="391" href="#a"/><use x="1038.3" y="342.5" href="#a"/><use x="926.3" y="439.5" href="#a"/><use x="954.3" y="391" href="#a"/><use x="982.3" y="342.5" href="#a"/><use x="1010.3" y="294" href="#a"/><use x="898.3" y="390.5" href="#a"/><use x="926.3" y="342" href="#a"/><use x="954.3" y="293.5" href="#a"/><use x="982.3" y="244.9" href="#a"/><use x="870.3" y="342" href="#a"/><use x="898.3" y="293.5" href="#a"/><use x="926.3" y="244.9" href="#a"/><use x="954.3" y="196.4" href="#a"/><use x="842.3" y="293.5" href="#a"/><use x="870.3" y="244.9" href="#a"/><use x="898.3" y="196.4" href="#a"/><use x="926.3" y="147.9" href="#a"/><use x="814.3" y="244.9" href="#a"/><use x="842.3" y="196.4" href="#a"/><use x="870.3" y="147.9" href="#a"/><use x="898.3" y="99.4" href="#a"/><use x="786.3" y="585.5" href="#a"/><use x="814.3" y="536.9" href="#a"/><use x="842.3" y="488.4" href="#a"/><use x="870.3" y="439.8" href="#a"/><use x="758.3" y="536.9" href="#a"/><use x="786.3" y="488.4" href="#a"/><use x="814.3" y="439.8" href="#a"/><use x="842.3" y="391.3" href="#a"/><use x="730.3" y="488.4" href="#a"/><use x="758.3" y="439.8" href="#a"/><use x="786.3" y="391.3" href="#a"/><use x="814.3" y="342.7" href="#a"/><use x="702.3" y="439.8" href="#a"/><use x="730.3" y="391.3" href="#a"/><use x="758.3" y="342.7" href="#a"/><use x="786.3" y="294.2" href="#a"/><use x="674.3" y="779.6" href="#a"/><use x="702.3" y="731" href="#a"/><use x="730.3" y="682.5" href="#a"/><use x="758.3" y="633.9" href="#a"/><use x="646.3" y="731" href="#a"/><use x="674.3" y="682.5" href="#a"/><use x="702.3" y="633.9" href="#a"/><use x="730.3" y="585.4" href="#a"/><use x="618.3" y="682.5" href="#a"/><use x="646.3" y="633.9" href="#a"/><use x="674.3" y="585.4" href="#a"/><use x="702.3" y="536.8" href="#a"/><use x="590.3" y="633.9" href="#a"/><use x="618.3" y="585.4" href="#a"/><use x="646.3" y="536.8" href="#a"/><use x="674.3" y="488.3" href="#a"/><use x="562.3" y="973.7" href="#a"/><use x="590.3" y="925.1" href="#a"/><use x="618.3" y="876.6" href="#a"/><use x="646.3" y="828" href="#a"/><use x="534.3" y="925.1" href="#a"/><use x="562.3" y="876.6" href="#a"/><use x="590.3" y="828" href="#a"/><use x="618.3" y="779.5" href="#a"/><use x="506.3" y="876.6" href="#a"/><use x="534.3" y="828" href="#a"/><use x="562.3" y="779.5" href="#a"/><use x="590.3" y="730.9" href="#a"/><use x="478.3" y="828" href="#a"/><use x="506.3" y="779.5" href="#a"/><use x="534.3" y="730.9" href="#a"/><use x="562.3" y="682.4" href="#a"/><use x="534.3" y="1022.1" href="#a"/><use x="478.3" y="1022.1" href="#a"/><use x="506.3" y="973.6" href="#a"/><use x="422.3" y="1022.1" href="#a"/><use x="450.3" y="973.6" href="#a"/><use x="478.3" y="925.1" href="#a"/><use x="366.3" y="1022.1" href="#a"/><use x="394.3" y="973.6" href="#a"/><use x="422.3" y="925.1" href="#a"/><use x="450.3" y="876.5" href="#a"/><use x="899.7" y="1.4" href="#b"/><use x="843.7" y="1.4" href="#b"/><use x="787.7" y="1.4" href="#b"/><use x="731.6" y="1.4" href="#b"/><use x="871.7" y="49.9" href="#b"/><use x="815.7" y="49.9" href="#b"/><use x="759.6" y="49.9" href="#b"/><use x="703.6" y="50" href="#b"/><use x="843.7" y="98.4" href="#b"/><use x="787.6" y="98.4" href="#b"/><use x="731.6" y="98.5" href="#b"/><use x="675.6" y="98.5" href="#b"/><use x="815.6" y="146.9" href="#b"/><use x="759.6" y="146.9" href="#b"/><use x="703.6" y="147" href="#b"/><use x="647.6" y="147" href="#b"/><use x="788" y="195.2" href="#b"/><use x="732" y="195.2" href="#b"/><use x="676" y="195.2" href="#b"/><use x="620" y="195.2" href="#b"/><use x="760" y="243.7" href="#b"/><use x="704" y="243.7" href="#b"/><use x="648" y="243.7" href="#b"/><use x="592" y="243.7" href="#b"/><use x="732" y="292.2" href="#b"/><use x="676" y="292.2" href="#b"/><use x="620" y="292.2" href="#b"/><use x="564" y="292.2" href="#b"/><use x="704" y="340.7" href="#b"/><use x="648" y="340.7" href="#b"/><use x="592" y="340.7" href="#b"/><use x="535.9" y="340.8" href="#b"/><use x="675.5" y="389.5" href="#b"/><use x="619.5" y="389.5" href="#b"/><use x="563.5" y="389.5" href="#b"/><use x="507.5" y="389.5" href="#b"/><use x="647.5" y="438" href="#b"/><use x="591.5" y="438" href="#b"/><use x="535.5" y="438" href="#b"/><use x="479.5" y="438" href="#b"/><use x="619.5" y="486.5" href="#b"/><use x="563.5" y="486.5" href="#b"/><use x="507.5" y="486.5" href="#b"/><use x="451.4" y="486.5" href="#b"/><use x="591.5" y="535" href="#b"/><use x="535.5" y="535" href="#b"/><use x="479.4" y="535" href="#b"/><use x="423.4" y="535" href="#b"/><use x="563" y="583.8" href="#b"/><use x="507" y="583.8" href="#b"/><use x="451" y="583.8" href="#b"/><use x="395" y="583.8" href="#b"/><use x="535" y="632.3" href="#b"/><use x="479" y="632.3" href="#b"/><use x="423" y="632.3" href="#b"/><use x="366.9" y="632.3" href="#b"/><use x="507" y="680.8" href="#b"/><use x="451" y="680.8" href="#b"/><use x="394.9" y="680.8" href="#b"/><use x="338.9" y="680.8" href="#b"/><use x="479" y="729.3" href="#b"/><use x="422.9" y="729.3" href="#b"/><use x="366.9" y="729.3" href="#b"/><use x="310.9" y="729.3" href="#b"/><use x="450.5" y="778.1" href="#b"/><use x="394.5" y="778.1" href="#b"/><use x="338.5" y="778.1" href="#b"/><use x="282.5" y="778.1" href="#b"/><use x="422.5" y="826.6" href="#b"/><use x="366.5" y="826.6" href="#b"/><use x="310.5" y="826.6" href="#b"/><use x="254.4" y="826.6" href="#b"/><use x="394.5" y="875.1" href="#b"/><use x="338.5" y="875.1" href="#b"/><use x="282.4" y="875.1" href="#b"/><use x="226.4" y="875.1" href="#b"/><use x="366.5" y="923.6" href="#b"/><use x="310.4" y="923.6" href="#b"/><use x="254.4" y="923.6" href="#b"/><use x="198.4" y="923.6" href="#b"/><use x="338" y="972.3" href="#b"/><use x="282" y="972.4" href="#b"/><use x="226" y="972.4" href="#b"/><use x="169.9" y="972.4" href="#b"/><use x="310" y="1020.9" href="#b"/><use x="254" y="1020.9" href="#b"/><use x="197.9" y="1020.9" href="#b"/><use x="141.9" y="1020.9" href="#b"/><use x="282" y="1069.4" href="#b"/><use x="225.9" y="1069.4" href="#b"/><use x="169.9" y="1069.4" href="#b"/><use x="113.9" y="1069.4" href="#b"/><use x="253.9" y="1117.9" href="#b"/><use x="197.9" y="1117.9" href="#b"/><use x="141.9" y="1117.9" href="#b"/><use x="85.9" y="1117.9" href="#b"/><use x="562.8" y="971.9" href="#b"/><use x="506.8" y="971.9" href="#b"/><use x="450.7" y="971.9" href="#b"/><use x="394.7" y="971.9" href="#b"/><use x="534.8" y="1020.4" href="#b"/><use x="478.7" y="1020.4" href="#b"/><use x="422.7" y="1020.4" href="#b"/><use x="366.6" y="1020.5" href="#b"/><use x="506.7" y="1068.9" href="#b"/><use x="450.7" y="1068.9" href="#b"/><use x="394.6" y="1069" href="#b"/><use x="338.6" y="1069" href="#b"/><use x="478.7" y="1117.4" href="#b"/><use x="422.6" y="1117.5" href="#b"/><use x="366.6" y="1117.5" href="#b"/><use x="310.6" y="1117.5" href="#b"/><use x="786.9" y="971.8" href="#b"/><use x="730.9" y="971.8" href="#b"/><use x="674.8" y="971.9" href="#b"/><use x="618.8" y="971.9" href="#b"/><use x="758.9" y="1020.3" href="#b"/><use x="702.8" y="1020.4" href="#b"/><use x="646.8" y="1020.4" href="#b"/><use x="590.8" y="1020.4" href="#b"/><use x="730.8" y="1068.8" href="#b"/><use x="674.8" y="1068.9" href="#b"/><use x="618.8" y="1068.9" href="#b"/><use x="562.7" y="1068.9" href="#b"/><use x="702.8" y="1117.4" href="#b"/><use x="646.8" y="1117.4" href="#b"/><use x="590.7" y="1117.4" href="#b"/><use x="534.7" y="1117.5" href="#b"/><use x="1011" y="971.7" href="#b"/><use x="955" y="971.8" href="#b"/><use x="899" y="971.8" href="#b"/><use x="842.9" y="971.8" href="#b"/><use x="983" y="1020.3" href="#b"/><use x="927" y="1020.3" href="#b"/><use x="870.9" y="1020.3" href="#b"/><use x="814.9" y="1020.3" href="#b"/><use x="955" y="1068.8" href="#b"/><use x="898.9" y="1068.8" href="#b"/><use x="842.9" y="1068.8" href="#b"/><use x="786.8" y="1068.9" href="#b"/><use x="926.9" y="1117.3" href="#b"/><use x="870.9" y="1117.3" href="#b"/><use x="814.8" y="1117.4" href="#b"/><use x="758.8" y="1117.4" href="#b"/><use x="1067" y="971.8" href="#b"/><use x="1095" y="1020.3" href="#b"/><use x="1039" y="1020.3" href="#b"/><use x="1123" y="1068.8" href="#b"/><use x="1067" y="1068.8" href="#b"/><use x="1010.9" y="1068.8" href="#b"/><use x="1151" y="1117.2" href="#b"/><use x="1095" y="1117.3" href="#b"/><use x="1038.9" y="1117.3" href="#b"/><use x="982.9" y="1117.3" href="#b"/><use x=".8" y="1166.2" href="#c"/><use x="28.9" y="1214.7" href="#c"/><use x="57" y="1263.3" href="#c"/><use x="85.1" y="1311.9" href="#c"/><use x="56.8" y="1166.1" href="#c"/><use x="84.9" y="1214.7" href="#c"/><use x="113" y="1263.2" href="#c"/><use x="141.1" y="1311.8" href="#c"/><use x="112.9" y="1166" href="#c"/><use x="140.9" y="1214.6" href="#c"/><use x="169" y="1263.2" href="#c"/><use x="197.1" y="1311.8" href="#c"/><use x="168.9" y="1166" href="#c"/><use x="197" y="1214.5" href="#c"/><use x="225" y="1263.1" href="#c"/><use x="253.1" y="1311.7" href="#c"/><use x="224.5" y="1165.7" href="#c"/><use x="252.6" y="1214.2" href="#c"/><use x="280.6" y="1262.8" href="#c"/><use x="308.7" y="1311.4" href="#c"/><use x="280.5" y="1165.6" href="#c"/><use x="308.6" y="1214.2" href="#c"/><use x="336.6" y="1262.8" href="#c"/><use x="364.7" y="1311.3" href="#c"/><use x="336.5" y="1165.5" href="#c"/><use x="364.6" y="1214.1" href="#c"/><use x="392.7" y="1262.7" href="#c"/><use x="420.7" y="1311.3" href="#c"/><use x="392.5" y="1165.5" href="#c"/><use x="420.6" y="1214.1" href="#c"/><use x="448.7" y="1262.7" href="#c"/><use x="476.8" y="1311.2" href="#c"/><use x="449" y="1165.7" href="#c"/><use x="477.1" y="1214.3" href="#c"/><use x="505.1" y="1262.8" href="#c"/><use x="533.2" y="1311.4" href="#c"/><use x="505" y="1165.6" href="#c"/><use x="533.1" y="1214.2" href="#c"/><use x="561.2" y="1262.8" href="#c"/><use x="589.2" y="1311.4" href="#c"/><use x="561" y="1165.6" href="#c"/><use x="589.1" y="1214.2" href="#c"/><use x="617.2" y="1262.7" href="#c"/><use x="645.3" y="1311.3" href="#c"/><use x="617" y="1165.5" href="#c"/><use x="645.1" y="1214.1" href="#c"/><use x="673.2" y="1262.7" href="#c"/><use x="701.3" y="1311.2" href="#c"/><use x="673.5" y="1165.7" href="#c"/><use x="701.6" y="1214.3" href="#c"/><use x="729.7" y="1262.9" href="#c"/><use x="757.7" y="1311.4" href="#c"/><use x="729.5" y="1165.7" href="#c"/><use x="757.6" y="1214.2" href="#c"/><use x="785.7" y="1262.8" href="#c"/><use x="813.8" y="1311.4" href="#c"/><use x="785.5" y="1165.6" href="#c"/><use x="813.6" y="1214.2" href="#c"/><use x="841.7" y="1262.8" href="#c"/><use x="869.8" y="1311.3" href="#c"/><use x="841.6" y="1165.5" href="#c"/><use x="869.6" y="1214.1" href="#c"/><use x="897.7" y="1262.7" href="#c"/><use x="925.8" y="1311.3" href="#c"/><use x="898" y="1165.7" href="#c"/><use x="926.1" y="1214.3" href="#c"/><use x="954.2" y="1262.9" href="#c"/><use x="982.2" y="1311.5" href="#c"/><use x="954" y="1165.7" href="#c"/><use x="982.1" y="1214.3" href="#c"/><use x="1010.2" y="1262.8" href="#c"/><use x="1038.3" y="1311.4" href="#c"/><use x="1010" y="1165.6" href="#c"/><use x="1038.1" y="1214.2" href="#c"/><use x="1066.2" y="1262.8" href="#c"/><use x="1094.3" y="1311.3" href="#c"/><use x="1066.1" y="1165.6" href="#c"/><use x="1094.2" y="1214.1" href="#c"/><use x="1122.2" y="1262.7" href="#c"/><use x="1150.3" y="1311.3" href="#c"/><use x="1122.5" y="1165.8" href="#c"/><use x="1150.6" y="1214.3" href="#c"/><use x="1178.7" y="1262.9" href="#c"/><use x="1206.8" y="1311.5" href="#c"/><use x="1178.5" y="1165.7" href="#c"/><use x="1206.6" y="1214.3" href="#c"/><use x="1234.7" y="1262.8" href="#c"/><use x="1262.8" y="1311.4" href="#c"/><use x="1234.6" y="1165.6" href="#c"/><use x="1262.6" y="1214.2" href="#c"/><use x="1290.7" y="1262.8" href="#c"/><use x="1318.8" y="1311.4" href="#c"/><use x="1290.6" y="1165.6" href="#c"/><use x="1318.7" y="1214.2" href="#c"/><use x="1346.7" y="1262.7" href="#c"/><use x="1374.8" y="1311.3" href="#c"/><use x="1009.5" y="971" href="#c"/><use x="1037.6" y="1019.6" href="#c"/><use x="1065.7" y="1068.2" href="#c"/><use x="1093.8" y="1116.8" href="#c"/><use x="1065.5" y="971" href="#c"/><use x="1093.6" y="1019.6" href="#c"/><use x="1121.7" y="1068.2" href="#c"/><use x="1149.8" y="1116.8" href="#c"/><use x="1121.5" y="970.9" href="#c"/><use x="1149.7" y="1019.5" href="#c"/><use x="1177.8" y="1068.1" href="#c"/><use x="1205.9" y="1116.7" href="#c"/><use x="1177.6" y="970.9" href="#c"/><use x="1205.7" y="1019.5" href="#c"/><use x="1233.8" y="1068.1" href="#c"/><use x="1261.9" y="1116.7" href="#c"/><use x="897.1" y="776.7" href="#c"/><use x="925.2" y="825.3" href="#c"/><use x="953.3" y="873.9" href="#c"/><use x="981.4" y="922.5" href="#c"/><use x="953.2" y="776.7" href="#c"/><use x="981.3" y="825.2" href="#c"/><use x="1009.4" y="873.8" href="#c"/><use x="1037.5" y="922.4" href="#c"/><use x="1009.2" y="776.6" href="#c"/><use x="1037.3" y="825.2" href="#c"/><use x="1065.4" y="873.8" href="#c"/><use x="1093.5" y="922.4" href="#c"/><use x="1065.3" y="776.6" href="#c"/><use x="1093.3" y="825.2" href="#c"/><use x="1121.5" y="873.7" href="#c"/><use x="1149.6" y="922.3" href="#c"/><use x="784.8" y="582.4" href="#c"/><use x="812.9" y="631" href="#c"/><use x="841" y="679.6" href="#c"/><use x="869.1" y="728.1" href="#c"/><use x="840.8" y="582.3" href="#c"/><use x="868.9" y="630.9" href="#c"/><use x="897" y="679.5" href="#c"/><use x="925.1" y="728.1" href="#c"/><use x="896.9" y="582.3" href="#c"/><use x="925" y="630.9" href="#c"/><use x="953.1" y="679.5" href="#c"/><use x="981.2" y="728.1" href="#c"/><use x="952.9" y="582.2" href="#c"/><use x="981" y="630.8" href="#c"/><use x="1009.1" y="679.4" href="#c"/><use x="1037.2" y="728" href="#c"/><use x="812.8" y="533.8" href="#c"/><use x="840.7" y="485.1" href="#c"/><use x="868.8" y="533.7" href="#c"/><use x="868.7" y="436.5" href="#c"/><use x="896.8" y="485.1" href="#c"/><use x="924.9" y="533.7" href="#c"/><use x="842.8" y="583.5" href="#d"/><use x="870.8" y="534.9" href="#d"/><use x="898.7" y="486.2" href="#d"/><use x="926.7" y="437.6" href="#d"/></svg>
</template>

<style scoped lang="scss">
@use "sass:math";

svg {
  height: 65%;
  position: absolute;
  left: 50%;
  top: 40%;
  transform: translate(-50%, -50%);
	background-image: url('~/assets/img/logo.png');
  background-size: contain;

  use {
    fill: white;
    opacity: 1;
    transition: 2s fill ease, 2s stroke ease, 2s opacity ease;
    stroke: black;
    stroke-width: 2px;
		opacity: 0;
  }
}

@media (max-width: 900px) {
	svg {
		height: 55%;
	}
}

@media (max-width: 480px) {
	svg {
		height: 45%;
	}
}

@media (max-width: 300px) {
	svg {
		height: 35%;
	}
}

@for $i from 1 to 464 {
	$delay: math.div(math.round((($i * 0.005) + math.div(math.random(), 2)) * 100), 100);
	$randomColor: rgb(math.random(255), math.random(255), math.random(255));

	use:nth-child(#{$i}) {
		transition-delay: #{$delay}s, #{$delay}s, #{$delay}s, 0s;
		stroke: $randomColor;
		fill: $randomColor;
	}
}
</style>